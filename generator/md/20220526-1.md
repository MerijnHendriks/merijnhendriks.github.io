# OOP-C89: Class

Today I'll try to explain as simple as possible what a basic class would look
like in C89. so it's easier to understand later the choices I make for
emulation of OOP. I make the assumption that we're emulating static OOP, not
something crazy like prototypes.

In essence, a `class` is nothing more than a `struct` (fields) with functions
(methods). In order to know which instance to manipulate the data from, a
method contains a hidden pointer (`this` keyword) which points to the instance.
Type aliassing (`typeof`) is used to give every class it's own type.

For example, let's take this class:

```csharp
using System;

class Foo
{
    int x;

    Foo(int x)
    {
        this.x = x;
    }

    void print()
    {
        Console.WriteLine(x);
    }
}
```

We got the field `x`, a constructor to initialize the value of `x` and a method
that shows the value of `x` in `stdout`. Foo is an user-defined type.

Emulating this is not very hard in C89:

```c
#include <stdio.h>

typedef struct Foo Foo;

struct Foo
{
    int x;
};

void Foo_ctor(Foo* self, int x)
{
    self->x = x;
}

void Foo_print(Foo* self)
{
    printf("%d\n", self->x);
}
```

For those familliar with C, there isn't anything special here.  Note that
`this` is renamed to `self` to ensure compatability with C++ (which has a
`this` keyword in its language).

In the next article I'll discuss how to do single inheritance!
